{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"header\">\r\n\t\t\t<text class=\"title\">打牌记账</text>\r\n\t\t\t<text class=\"subtitle\">记录每一局的得分</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"score-board\">\r\n\t\t\t<view v-if=\"players.length === 0\" class=\"empty-tip\">\r\n\t\t\t\t<text>请先添加玩家</text>\r\n\t\t\t\t<button class=\"go-to-players\" type=\"primary\" size=\"mini\" @click=\"goToPlayers\">去添加</button>\r\n\t\t\t</view>\r\n\t\t\t<view v-else class=\"players-score\">\r\n\t\t\t\t<view class=\"score-list\">\r\n\t\t\t\t\t<view v-for=\"(player, index) in sortedPlayers\" :key=\"player.id\"\r\n\t\t\t\t\t\t  class=\"score-item\" :class=\"{ 'winner': player.totalScore > 0, 'loser': player.totalScore < 0 }\">\r\n\t\t\t\t\t\t<view class=\"rank\">{{ index + 1 }}</view>\r\n\t\t\t\t\t\t<view class=\"player-info\">\r\n\t\t\t\t\t\t\t<text class=\"player-name\">{{ player.name }}</text>\r\n\t\t\t\t\t\t\t<text class=\"total-score\" :class=\"{ 'positive': player.totalScore > 0, 'negative': player.totalScore < 0 }\">\r\n\t\t\t\t\t\t\t\t{{ player.totalScore > 0 ? '+' : '' }}{{ player.totalScore }}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"quick-actions\">\r\n\t\t\t<button class=\"action-btn\" type=\"primary\" @click=\"goToRecord\">开始记账</button>\r\n\t\t\t<button class=\"action-btn\" @click=\"goToHistory\">查看历史</button>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"footer-actions\">\r\n\t\t\t<button class=\"clear-btn\" type=\"warn\" size=\"mini\" @click=\"clearAllData\">清空所有数据</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { DataManager } from '@/utils/dataManager.js'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tplayers: []\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tsortedPlayers() {\r\n\t\t\treturn [...this.players].sort((a, b) => b.totalScore - a.totalScore);\r\n\t\t}\r\n\t},\r\n\r\n\tonShow() {\r\n\t\tthis.loadPlayers();\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tloadPlayers() {\r\n\t\t\tthis.players = DataManager.getPlayers();\r\n\t\t},\r\n\r\n\t\tgoToRecord() {\r\n\t\t\tif (this.players.length === 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请先添加玩家',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/record/record'\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgoToHistory() {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/history/history'\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgoToPlayers() {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/players/players'\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tclearAllData() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '确认清空',\r\n\t\t\t\tcontent: '确定要清空所有数据吗？此操作不可恢复！',\r\n\t\t\t\tconfirmText: '确定清空',\r\n\t\t\t\tconfirmColor: '#FF0000',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tDataManager.clearAllData();\r\n\t\t\t\t\t\tthis.loadPlayers();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '已清空所有数据',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n\tpadding: 30rpx;\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n.header {\r\n\ttext-align: center;\r\n\tmargin-bottom: 40rpx;\r\n}\r\n\r\n.title {\r\n\tfont-size: 48rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tdisplay: block;\r\n\tmargin-bottom: 10rpx;\r\n}\r\n\r\n.subtitle {\r\n\tfont-size: 28rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.score-board {\r\n\tbackground-color: #fff;\r\n\tborder-radius: 15rpx;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 40rpx;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.empty-tip {\r\n\ttext-align: center;\r\n\tpadding: 60rpx 0;\r\n\tcolor: #999;\r\n}\r\n\r\n.go-to-players {\r\n\tmargin-top: 20rpx;\r\n}\r\n\r\n.players-score {\r\n\r\n}\r\n\r\n.score-list {\r\n\r\n}\r\n\r\n.score-item {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 25rpx 0;\r\n\tborder-bottom: 1rpx solid #eee;\r\n}\r\n\r\n.score-item:last-child {\r\n\tborder-bottom: none;\r\n}\r\n\r\n.rank {\r\n\twidth: 60rpx;\r\n\theight: 60rpx;\r\n\tbackground-color: #f0f0f0;\r\n\tborder-radius: 50%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tmargin-right: 25rpx;\r\n}\r\n\r\n.winner .rank {\r\n\tbackground-color: #e6f7e6;\r\n\tcolor: #52c41a;\r\n}\r\n\r\n.loser .rank {\r\n\tbackground-color: #fff2f0;\r\n\tcolor: #ff4d4f;\r\n}\r\n\r\n.player-info {\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n}\r\n\r\n.player-name {\r\n\tfont-size: 32rpx;\r\n\tcolor: #333;\r\n}\r\n\r\n.total-score {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.positive {\r\n\tcolor: #52c41a;\r\n}\r\n\r\n.negative {\r\n\tcolor: #ff4d4f;\r\n}\r\n\r\n.quick-actions {\r\n\tdisplay: flex;\r\n\tgap: 20rpx;\r\n\tmargin-bottom: 40rpx;\r\n}\r\n\r\n.action-btn {\r\n\tflex: 1;\r\n\theight: 90rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 32rpx;\r\n}\r\n\r\n.footer-actions {\r\n\ttext-align: center;\r\n}\r\n\r\n.clear-btn {\r\n\r\n}\r\n</style>","import MiniProgramPage from '/Users/suchengbo/code/AI/kepp-account-uniapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["DataManager","uni"],"mappings":";;;AA0CA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,SAAS,CAAC;AAAA,IACX;AAAA,EACA;AAAA,EAED,UAAU;AAAA,IACT,gBAAgB;AACf,aAAO,CAAC,GAAG,KAAK,OAAO,EAAE,KAAK,CAAC,GAAG,MAAM,EAAE,aAAa,EAAE,UAAU;AAAA,IACpE;AAAA,EACA;AAAA,EAED,SAAS;AACR,SAAK,YAAW;AAAA,EAChB;AAAA,EAED,SAAS;AAAA,IACR,cAAc;AACb,WAAK,UAAUA,8BAAY;IAC3B;AAAA,IAED,aAAa;AACZ,UAAI,KAAK,QAAQ,WAAW,GAAG;AAC9BC,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD;AAAA,MACD;AACAA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA,IAED,cAAc;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA,IAED,cAAc;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA,IAED,eAAe;AACdA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,aAAa;AAAA,QACb,cAAc;AAAA,QACd,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChBD,8BAAW,YAAC,aAAY;AACxB,iBAAK,YAAW;AAChBC,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAC;AAAA,UACF;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3GA,GAAG,WAAW,eAAe;"}